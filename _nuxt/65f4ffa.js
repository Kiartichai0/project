(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{558:function(e,r,t){"use strict";t.r(r);var n=t(33),o=(t(117),{created:function(){},data:function(){return{items:["User","Writer"],username:"",password:"",role:"",error:null}},methods:{login:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,console.log(r.role);case 3:return n={username:r.username,password:r.password,role:r.role},t.prev=4,t.next=7,r.$auth.loginWith("local",{data:n});case 7:"User"==r.role?r.$router.push("/user/user_main"):r.$router.push("/writer/writer_main"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),alert("wrong username or password or role"),r.error=t.t0;case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))()}}}),l=t(127),c=t(173),d=t.n(c),v=t(100),m=t(116),w=t(93),f=t(525),_=t(550),x=t(204),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("v-card",{attrs:{align:"center"}},[t("v-card-title",{staticClass:"justify-center col-10 ma-5"},[e._v(" Login ")]),e._v(" "),t("v-form",{staticClass:" col-10",on:{submit:e.login}},[t("v-text-field",{attrs:{label:"username"},model:{value:e.username,callback:function(r){e.username=r},expression:"username"}}),e._v(" "),t("v-text-field",{attrs:{label:"password",type:"password"},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),e._v(" "),t("v-select",{attrs:{items:e.items,label:"Role"},model:{value:e.role,callback:function(r){e.role=r},expression:"role"}}),e._v(" "),t("v-btn",{staticClass:"ma-5",attrs:{type:"submit"}},[e._v(" Login ")]),e._v(" "),t("v-btn",{staticClass:"ma-5",attrs:{to:"/user/user_main"}},[e._v(" Back ")]),e._v(" "),t("router-link",{attrs:{to:"/login/register"}},[t("v-card-text",[e._v(" Register? ")])],1)],1)],1)],1)}),[],!1,null,null,null);r.default=component.exports;d()(component,{VBtn:v.a,VCard:m.a,VCardText:w.c,VCardTitle:w.d,VForm:f.a,VSelect:_.a,VTextField:x.a})}}]);