(window.webpackJsonp=window.webpackJsonp||[]).push([[11,3],{522:function(e,t,n){"use strict";n.r(t);var r=n(255),o={components:{TiptapVuetify:r.p},props:{value:{type:String,default:"<h1></h1>"}},data:function(){return{extensions:[r.g,r.a,r.k,r.r,r.o,r.i,r.j,r.l,r.c,r.m,[r.f,{options:{levels:[1,2,3]}}],r.b,r.k,r.d,r.h,r.n,r.e]}}},c=n(127),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("tiptap-vuetify",{attrs:{value:e.value,extensions:e.extensions},on:{input:function(t){return e.$emit("input",arguments[0])}}})],1)}),[],!1,null,null,null);t.default=component.exports},556:function(e,t,n){"use strict";n.r(t);var r=n(33),o=(n(117),{asyncData:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$axios,r=e.query,t.next=3,n.$get("/discuss/".concat(r.id));case 3:return o=t.sent,t.next=6,r.id;case 6:return c=t.sent,t.abrupt("return",{dis:o,idd:c});case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{user:this.$auth.user,loggedIn:this.$auth.loggedIn,id:this.$route.query.id,info:"",temp_c:null,edit:!0,edit_t:!0}},methods:{addcomment:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={data:{id:e.id,comment:e.info,user:e.user.username}},t.next=3,e.$axios.$post("/addcomments",n);case 3:return t.next=5,e.$nuxt.refresh();case 5:case"end":return t.stop()}}),t)})))()},editcomment:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={data:{id:e.id,comment:e.info,cid:e.temp_c}},t.next=3,e.$axios.$post("/editcomments",n);case 3:return t.next=5,e.$nuxt.refresh();case 5:case"end":return t.stop()}}),t)})))()},delcomment:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={data:{id:t.id,comment:e}},n.next=3,t.$axios.$post("/delcomments",r);case 3:return n.next=5,t.$nuxt.refresh();case 5:case"end":return n.stop()}}),n)})))()},deltopic:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$delete("/discuss/delete",{data:{id:e}});case 2:t.$router.push("/discuss/discuss_main");case 3:case"end":return n.stop()}}),n)})))()},logout:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.logout();case 2:e.$router.push("/discuss/discuss_main");case 3:case"end":return t.stop()}}),t)})))()}}}),c=n(127),d=n(173),m=n.n(d),l=n(100),v=n(116),f=n(93),_=n(337),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loggedIn?n("p",{attrs:{align:"right"}},[e._v("\n    User: "+e._s(e.user.username)+"\n    "),n("v-btn",{staticClass:"ma-5",on:{click:e.logout}},[e._v("Logout")])],1):e._e(),e._v(" "),n("v-col",[n("v-card",[n("v-col",[e.loggedIn?n("p",{attrs:{align:"right"}},[n("v-btn",{attrs:{to:{path:"/discuss/edit_topic",query:{id:e.id,title:e.dis[0].title,info:e.dis[0].description}}}},[e._v(" Edit ")]),e._v(" "),e.user.username==e.dis[0].user.username?n("v-btn",{on:{click:function(t){return e.deltopic(e.idd)}}},[e._v("x")]):e._e()],1):e._e(),e._v(" "),n("h1",[e._v(e._s(e.dis[0].title))]),e._v(" "),n("h4",[e._v("user: "+e._s(e.dis[0].user.username))]),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.dis[0].description)}})]),e._v(" "),e._l(e.dis[0].comments.length,(function(i){return n("v-col",{key:i},[n("v-card",[e.loggedIn?n("p",{attrs:{align:"right"}},[e.user.username==e.dis[0].comments[i-1].user?n("v-btn",{staticClass:"ma-1",attrs:{disabled:!e.edit},on:{click:function(t){e.edit=!e.edit,e.temp_c=e.dis[0].comments[i-1].cid,e.info=e.dis[0].comments[i-1].comment}}},[e._v("\n              edit \n            ")]):e._e(),e._v(" "),e.user.username==e.dis[0].comments[i-1].user?n("v-btn",{staticClass:"ma-1",on:{click:function(t){return e.delcomment(e.dis[0].comments[i-1])}}},[e._v("\n              x\n            ")]):e._e()],1):e._e(),e._v(" "),n("v-card-text",[n("div",{domProps:{innerHTML:e._s(e.dis[0].comments[i-1].comment)}}),e._v(" "),n("p",{attrs:{align:"right"}},[e._v("user:"+e._s(e.dis[0].comments[i-1].user))])])],1)],1)}))],2)],1),e._v(" "),n("v-col",[n("Editor",{model:{value:e.info,callback:function(t){e.info=t},expression:"info"}}),e._v(" "),n("br"),e._v(" "),e.loggedIn&&e.edit?n("v-btn",{on:{click:function(t){e.addcomment(),e.info=""}}},[e._v("Save")]):e.loggedIn&&!e.edit?n("v-btn",{on:{click:function(t){e.editcomment(),e.edit=!e.edit,e.info=""}}},[e._v("Save ")]):n("v-btn",{attrs:{to:"../login/login"}},[e._v(" Save ")]),e._v(" "),n("v-btn",{attrs:{to:"/discuss/discuss_main"}},[e._v(" Back ")])],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{Editor:n(522).default}),m()(component,{VBtn:l.a,VCard:v.a,VCardText:f.c,VCol:_.a})}}]);